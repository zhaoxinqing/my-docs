# CSDN 收藏文档整理

## P2P（peer to peer）

点对点技术又称对等互联网络技术，是一种网络新技术，依赖网络中参与者的计算能力和带宽，而不是把依赖都聚集在较少的几台服务器上.

## CSRF与XSS

- XSS 攻击：跨站脚本攻击(Cross Site Scripting)，恶意攻击者往 Web 页面里插入恶意 Script 代码，当用户浏览该页之时，嵌入其中 Web 里面的 Script 代码会被执行，从而达到恶意攻击用户的目的。

- CSRF 攻击：CSRF（Cross-site request forgery）跨站请求伪造，是一种对网站的恶意利用

## 短连接与长连接

当浏览器访问一个包含多张图片的 HTML 页面时，除了请求访问 HTML 页面资源，还会请求图片资源。如果每进行一次 HTTP 通信就要新建一个 TCP 连接，那么开销会很大。长连接只需要建立一次 TCP 连接就能进行多次 HTTP 通信。

## 浏览器键入URL后的访问流程

- 浏览器使用DNS协议向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址，其中DNS服务器是基于UDP的，因此会用到UDP协议;
- 解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立TCP连接，会使用到TCP协议;
- 然后浏览器就要与服务器建立一个http连接，因此要用到http协议，http生成一个get请求报文，如果采用https还会使用https协议对http数据进行加密，涉及到SSL协议，将报文发送到TCP层
- TCP层如果有需要先将HTTP数据包分片，分片依据MTU和MSS（ mtu是网络传输最大报文包,mss是网络传输数据最大值）。
- TCP的数据包然后会发送给IP层，用到IP协议。IP层通过路由选路，一跳一跳发送到目的地址。
- 当然在一个网段内的寻址是通过以太网协议实现，以太网协议需要知道目的IP地址的物理地址，则需要ARP协议。
- 服务器端接收到请求，然后发送返回响应请求
- 释放 TCP连接(若connection为close，则释放TCP连接，若为keep-alive则不会释放);
- 浏览器将该解析html文本并显示内容

## ARP协议

ARP协议的用途是为了从网络层使用的IP地址，解析出数据链路层使用的硬件地址。

- 在主机ARP高速缓存中存放一个从IP地址到硬件地址的映射表
- 当需要解析时，先去arp缓存表(存着ip-mac对应关系)去查找目标ip的mac地址
- 如果查到了，将目标ip的mac地址封装到链路层数据报
- 如果缓存中没有找到，会发起一个广播：who is ip XXX tell ip XXX，所有收到的广播的机器看这个ip是不是自己的，如果是自己的，则以单播的形式将自己的mac地址回复给请求的机器

## DNS域名解析的工作过程和原理

- DNS解析有两种方式：递归查询和迭代查询
- DNS采用UDP传输

## DNS解析（DNS找IP）

1. 当浏览器中输入www.bai.com域名时，操作系统会检查自己本地的hosts文件查看是否有这个网址的映射关系，如果有，直接调用
2. 如果没有，则查找本地的DNS解析器缓存，如果有，则直接返回IP
3. 如果没有，再找TCP/IP参数中设置的本地的DNS服务器，如果该域名包含再本地配置区域的资源中，则返回解析结果。
4. 也可能查找的域名，本地的DNS服务器已经缓存在网址的映射关系，那么直接调用这个IP
5. 如果本地DNS服务器也无法解析，会根据本地的DNS服务器是否设置转发器进行查询

如果是未转发模式，本地DNS会把请求发给13台根DNS，由对应的根服务器（例如.com）向下找，最后完成解析。如果是转发模式，那么DNS服务器会把请求一级一级向上传，往上找，直到传到根DNS。

## 为什么网络要分层设计

为了为了简化网络设计的复杂性，通信协议采用分层的结构，各层协议之间既相互独立又相互高效的协调工作。对于复杂的通信协议，其结构应该是采用层次的。分层的协议可以带来很多便利：
分层的好处有：

1. 灵活性好：当任何一层发生变化时，只要层间接口关系保持不变，则在这层以上或以下各层均不受影响。此外，对某一层提供的服务还可进行修改。当某层提供的服务不再需要时，甚至可以将这层取消，更容易管理。
2. 各层之间是独立的：在各层间标准化接口，允许不同的产品只提供各层功能的一部分，某一层不需要知道它的下一层是如何实现的，而仅仅需要知道该层通过层间的接口所提供的服务。由于每一层只实现一种相对独立的功能，所以比较容易实现！

## ip地址、子网掩码

- IP地址：电脑IP，可以说是网络上的电脑识别号，有IP的电脑才能上网，方便大家的交流和寻找作用
- 子网掩码：互联网是由许多小型网络构成的，每个网络上都有许多主机，这样便构成了一个有层次的结构。IP地址在设计时就考虑到地址分配的层次特点，将每个IP地址都分割成网络号和主机号两部分，以便于IP地址的寻址操作

子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。

- 默认网关：一个网络就必须有网关，也就是internet网进入一个集体、或个体网络的最先接连者，有它我们的信息将能更好的得到规划。
- 网关:只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信
- 网络号:用ip地址和子网掩码的二进制数进行“与”运算即可得出网络号。
- 广播地址(Broadcast Address)是专门用于同时向网络中所有工作站进行发送的一个地址。

## TCP协议(可靠的传输协议)

(1)TCP相关概念
(2)确认应答机制
(3)超时重传机制(安全机制)
(4)连接管理机制（安全机制）
(5)滑动窗口（效率）
(6)流量控制机制（安全机制）
(7)拥塞控制机制（安全机制）
(8)延迟应答机制(效率)
(9)捎带机制（效率）

TCP的总结
(1)TCP特性
(2)面向字节流
(3)粘包问题
